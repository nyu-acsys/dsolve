(*
val restore_right: e: 'a -> l: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] -> r: {v: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] | height v = height l} -> [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict]
val restore_left: e: 'a -> l: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] -> r: {v: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] | NOP(v) && height v = height l} -> [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict]
val ins1: key: 'a -> d: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] -> [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict]
*)
val insert: dict: [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict] -> key: 'a -> [(a: 'b) dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] 'a dict, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] 'a dict]
(* BST interfaces
val restore_right:
  e: 'a ->
  lt: [[], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z] ->
  r: [[], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z] ->
  [[], [v: true, v: true, v: true], [v: true, v: true, v: true], [v: true, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z]
val restore_left:
  e: 'a ->
  l: [[], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true], [v: v < e, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z] ->
  rt: [[], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true], [v: v > e, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z] ->
  [[], [v: true, v: true, v: true], [v: true, v: true, v: true], [v: true, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z]
val insert: dict: [[], [v: true, v: true, v: true], [v: true, v: true, v: true], [v: true, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z] -> key: 'a -> [[], [v: true, v: true, v: true], [v: true, v: true, v: true], [v: true, v: true, v: true]] [z: dict . || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z || e0: 'a, e1: [[], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true], [v: v < e0, v: true, v: true]] z, e2: [[], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true], [v: v > e0, v: true, v: true]] z]
*)
