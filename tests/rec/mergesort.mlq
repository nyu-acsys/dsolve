measure s =  [] -> 0 | _::xs -> 1 + s xs

measure ss = [] -> 0 | x::xs -> s x + ss xs

refinement sort  is 'a list =
  | Nil 
  | Cons x:'a * ([[_];[x<=V;_]]) 'a list

(* private : for debugging dsolve *)
val initlist: xs: 'a list -> {V : 'a list<sort> list | ss V = s xs} 
val merge:    xs: 'a list<sort> -> ys: 'a list<sort> -> {V: 'a list<sort> | s V = s xs + s ys}
val merge2:   xss: 'a list<sort> list -> {V: 'a list<sort> list | ss V = ss xss} 
val mergeAll: xss: 'a list<sort> list -> {V: 'a list<sort> | s V = ss xss}

(* public *)
val sort: xs: 'a list -> {V : 'a list<sort> | s V = s xs}
