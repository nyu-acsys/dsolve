measure len = | E -> 0 | Bl (d, l, r, h) -> 1 + len l + len r | Br (d, l, r, h) -> 1 + len l + len r
measure height = | E -> 0 | Bl (d, l, r, h) -> h | Br (d, l, r, h) -> h
val insert: 'a -> [(b: 'a) avl . || e0: 'b, {e1: [[], [v: v < e0, v: true, v: true, v: true], [v: v < e0, v: true, v: true, v: true]] 'b avl | true}, {e2: [[], [v: v > e0, v: true, v: true, v: true], [v: v > e0, v: true, v: true, v: true]] 'b avl | true}, {e3: int | true} || e0: 'b, {e1: [[], [v: v < e0, v: true, v: true, v: true], [v: v < e0, v: true, v: true, v: true]] 'b avl | true}, {e2: [[], [v: v > e0, v: true, v: true, v: true], [v: v > e0, v: true, v: true, v: true]] 'b avl | true}, {e3: int | true} ] -> [(b: 'a) avl . || e0: 'b, {e1: [[], [v: v < e0, v: true, v: true, v: true], [v: v < e0, v: true, v: true, v: true]] 'b avl | true}, {e2: [[], [v: v > e0, v: true, v: true, v: true], [v: v > e0, v: true, v: true, v: true]] 'b avl | true}, {e3: int | true} || e0: 'b, {e1: [[], [v: v < e0, v: true, v: true, v: true], [v: v < e0, v: true, v: true, v: true]] 'b avl | true}, {e2: [[], [v: v > e0, v: true, v: true, v: true], [v: v > e0, v: true, v: true, v: true]] 'b avl | true}, {e3: int | true} ]
